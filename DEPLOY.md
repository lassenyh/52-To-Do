## Deploying 52 to-do to Netlify

### 1. Install dependencies

```bash
npm install
```

### 2. Build the app

```bash
npm run build
```

This produces a production-ready bundle in the `dist` folder, including the service worker and PWA manifest generated by `vite-plugin-pwa`.

### 3. Configure Netlify

In the Netlify UI (or `netlify.toml` if you prefer config-as-code):

- **Build command**: `npm run build`
- **Publish directory**: `dist`

For client-side routing to work on hard refresh / deep links, ensure the following redirect rule exists (already added as `public/_redirects` in this repo):

```text
/*    /index.html   200
```

Netlify will copy this file into the built `dist` folder on deploy.

### 4. PWA behavior

The PWA is configured via `vite-plugin-pwa` and will:

- Generate and register a service worker in production builds
- Expose a manifest with:
  - `name`: `52 to-do`
  - `short_name`: `52 to-do`
  - `start_url`: `.`
  - `display`: `standalone`
  - `background_color` / `theme_color`: `#ffffff`
  - Icons at `icons/pwa-192x192.svg` and `icons/pwa-512x512.svg`

After deploying, open the site once so the service worker can install.

### 5. Install on iPhone (Add to Home Screen)

1. Open the deployed site in **Safari** on your iPhone.
2. Tap the **Share** icon in the toolbar.
3. Choose **Add to Home Screen**.
4. Confirm the name (e.g. **52**) and tap **Add**.

The app will appear as an icon and open in **standalone** mode (no browser UI).

---

### 6. iOS: Reinstall after PWA / manifest changes

After changing the manifest, icons, or service worker, existing home-screen installs may use cached assets. To get standalone and icons to update:

1. **Remove** the app from the home screen (long-press icon → Remove App → Remove from Home Screen).
2. In Safari, **hard refresh** the site (or clear Safari cache for the site).
3. **Add to Home Screen** again (Share → Add to Home Screen).
4. Open from the home screen; it should now use the new manifest and open in standalone.

