:root{color-scheme:light;font-family:system-ui,-apple-system,BlinkMacSystemFont,SF Pro Text,Segoe UI,sans-serif;--bg-color: #f9fafb;--card-bg-color: #ffffff;--text-color: #111827;--muted-text-color: #6b7280;--border-color: #e5e7eb;--progress-track-color: #e5e7eb;--progress-fill-color: #111827;--button-bg-color: #111827;--button-text-color: #ffffff;--checkbox-border-color: #d1d5db;--checkbox-fill-color: #111827;--checkbox-check-color: #ffffff;--subtle-text-color: #9ca3af;--ratio-below-color: #dc2626;--card-shadow: none;--task-completed-bg: rgba(16, 185, 129, .08);--subtask-input-bg: rgba(0, 0, 0, .03)}@media(prefers-color-scheme:dark){:root{color-scheme:dark;--bg-color: #0f1115;--card-bg-color: #161a20;--text-color: #f3f4f6;--muted-text-color: rgba(156, 163, 175, .75);--border-color: #23272f;--progress-track-color: #232833;--progress-fill-color: #3b4252;--button-bg-color: #e5e7eb;--button-text-color: #020617;--checkbox-border-color: #4b5563;--checkbox-fill-color: #f3f4f6;--checkbox-check-color: #020617;--subtle-text-color: #9ca3af;--ratio-below-color: #ff5a52;--card-shadow: 0 4px 20px rgba(0, 0, 0, .35);--task-completed-bg: rgba(16, 185, 129, .12);--subtask-input-bg: rgba(255, 255, 255, .05)}}:root[data-theme=light]{color-scheme:light;--bg-color: #f9fafb;--card-bg-color: #ffffff;--text-color: #111827;--muted-text-color: #6b7280;--border-color: #e5e7eb;--progress-track-color: #e5e7eb;--progress-fill-color: #111827;--button-bg-color: #111827;--button-text-color: #ffffff;--checkbox-border-color: #9ca3af;--checkbox-fill-color: #1f2937;--checkbox-check-color: #ffffff;--subtle-text-color: #9ca3af;--ratio-below-color: #dc2626;--card-shadow: none;--task-completed-bg: rgba(16, 185, 129, .08);--completed-title-opacity: .9;--subtask-input-bg: rgba(0, 0, 0, .03)}:root[data-theme=dark]{color-scheme:dark;--bg-color: #0f1115;--card-bg-color: #161a20;--text-color: #f3f4f6;--muted-text-color: rgba(156, 163, 175, .75);--border-color: #23272f;--progress-track-color: #232833;--progress-fill-color: #3b4252;--button-bg-color: #e5e7eb;--button-text-color: #020617;--checkbox-border-color: #6b7280;--checkbox-fill-color: #e5e7eb;--checkbox-check-color: #020617;--subtle-text-color: #9ca3af;--ratio-below-color: #ff5a52;--card-shadow: 0 4px 20px rgba(0, 0, 0, .35);--completed-title-opacity: .94;--task-completed-bg: rgba(16, 185, 129, .12);--subtask-input-bg: rgba(255, 255, 255, .05)}*,*:before,*:after{box-sizing:border-box}html{-webkit-text-size-adjust:100%}body{margin:0;min-height:100vh;background-color:var(--bg-color);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:var(--text-color)}input,textarea{font-size:16px}@media(max-width:768px){input,textarea,select{font-size:16px!important}}#root{min-height:100vh;display:flex;align-items:stretch;justify-content:center}.app{width:100%;max-width:960px;margin:0 auto;padding:24px 16px 48px;padding-top:calc(env(safe-area-inset-top) + 32px);display:flex;flex-direction:column;gap:24px}@media(min-width:768px){.app{padding:40px 24px 64px;padding-top:calc(env(safe-area-inset-top) + 32px)}}.app-header{display:flex;flex-direction:column;gap:8px}.app-title{font-size:28px;font-weight:600;letter-spacing:.02em}.app-subtitle{font-size:14px;color:#6b7280}.app-shell{border-radius:16px;border:1px solid var(--border-color);padding:20px 16px 18px;display:flex;flex-direction:column;gap:24px}.top-bar{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;gap:10px}@media(min-width:768px){.app-shell{padding:24px 24px 20px}}.year-dots{display:flex;flex-direction:row;align-items:center;gap:12px;margin-bottom:20px}.year-dots-grid{display:grid;grid-template-columns:repeat(13,1fr);gap:6px;flex:1;min-width:0;max-width:100%}.year-dots-dot{width:8px;height:8px;border-radius:50%;transition:background-color .18s cubic-bezier(.2,.8,.2,1),opacity .18s cubic-bezier(.2,.8,.2,1),box-shadow .18s cubic-bezier(.2,.8,.2,1);justify-self:center;align-self:center}.year-dots-dot-preJoin,.year-dots-dot-prejoin{background-color:var(--muted-text-color);opacity:.35}.year-dots-dot-past{background-color:var(--muted-text-color);opacity:.55}.year-dots-dot-future{background-color:#fff;opacity:1}.year-dots-dot-current-on-pace{background-color:#15803d;opacity:1;box-shadow:0 0 0 1px #15803d66}.year-dots-dot-current-behind{background-color:var(--ratio-below-color);opacity:1;box-shadow:0 0 0 1px #ff5a5259}:root[data-theme=light] .year-dots-dot-current-behind,:root:not([data-theme=dark]) .year-dots-dot-current-behind{box-shadow:0 0 0 1px #dc262659}.year-dots-dot-current-pulse{animation:yearDotsPulse .5s ease-out 0s 1}.year-dots-dot-current-pulse.year-dots-dot-intro-pulse{animation:yearDotsPulse3 1.05s ease-out 0s 1}@keyframes yearDotsPulse{0%{transform:scale(1)}35%{transform:scale(1.25)}to{transform:scale(1)}}@keyframes yearDotsPulse3{0%,20%,33%,53%,66%,86%,to{transform:scale(1);box-shadow:0 0 0 1px #15803d66}10%,43%,76%{transform:scale(1.2);box-shadow:0 0 0 3px #15803d59}}.year-dots-dot-current-behind.year-dots-dot-intro-pulse{animation:yearDotsPulse3Behind 1.05s ease-out 0s 1}@keyframes yearDotsPulse3Behind{0%,20%,33%,53%,66%,86%,to{transform:scale(1);box-shadow:0 0 0 1px #ff5a5259}10%,43%,76%{transform:scale(1.2);box-shadow:0 0 0 3px #ff5a524d}}@media(prefers-reduced-motion:reduce){.year-dots-dot{transition:none}.year-dots-dot-current-pulse,.year-dots-dot-intro-pulse{animation:none}}.year-dots-weeks-left{font-size:11px;letter-spacing:.06em;color:var(--subtle-text-color);opacity:.85;flex-shrink:0}.dashboard{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:16px;width:100%}@media(min-width:640px){.dashboard{grid-template-columns:1fr 1fr;gap:24px}}.stat-card{border-radius:12px;border:1px solid var(--border-color);padding:14px 12px 12px;display:flex;flex-direction:column;gap:8px;background-color:var(--card-bg-color);box-shadow:var(--card-shadow)}.stat-card-pulse{animation:pacePulse .6s ease-out 0s 3}@keyframes pacePulse{0%{transform:scale(1);box-shadow:var(--card-shadow)}20%{transform:scale(1.02);box-shadow:0 0 0 1px #94a3b899,0 0 0 10px #94a3b82e,0 18px 40px #0000008c}to{transform:scale(1);box-shadow:var(--card-shadow)}}@media(prefers-reduced-motion:reduce){.stat-card-pulse,.toast{animation:none}.todo-checkbox-visual{transition:none}.todo-checkbox-check{animation:none}}.stat-label{font-size:11px;letter-spacing:.1em;text-transform:uppercase;color:var(--subtle-text-color);font-weight:500}.stat-primary{display:flex;align-items:baseline;justify-content:space-between;gap:8px}.stat-value{font-size:24px;font-weight:700;line-height:1.1}.stat-secondary{font-size:12px;color:var(--muted-text-color)}.stat-helper{margin-top:5px;font-size:.75rem;line-height:1.35;color:var(--muted-text-color)}.stat-large{font-size:32px;font-weight:700;line-height:1.1}.stat-card-ratio{container-type:inline-size;container-name:stat-ratio}.stat-ratio-sentence{letter-spacing:-.02em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:clamp(14px,8cqi,24px)}.ratio-below{color:var(--ratio-below-color)}.ratio-equal{color:#b45309}.ratio-above{color:#15803d}.progress-track{width:100%;height:6px;border-radius:9999px;background-color:var(--progress-track-color);overflow:hidden}.progress-bar{height:100%;border-radius:inherit;background-color:var(--progress-fill-color);transform-origin:left}.toast-wrapper{position:fixed;top:32px;top:calc(env(safe-area-inset-top,0px) + 16px);left:50%;transform:translate(-50%);z-index:40;pointer-events:none}.toast{padding:10px 18px;border-radius:999px;background-color:var(--card-bg-color);color:var(--text-color);border:1px solid var(--border-color);box-shadow:0 10px 40px #0000004d;font-size:15px;pointer-events:auto;animation:pacePulse .6s ease-out 0s 3}.todo-section,.todo-section-inner{display:flex;flex-direction:column}.todo-section-inner .todo-input-row{margin-top:16px}.todo-section-inner .segment-control{margin-top:20px}.todo-section-inner .todo-list{margin-top:24px}.todo-section-header{display:flex;align-items:center;justify-content:space-between;gap:12px}.todo-section-title{font-size:14px;font-weight:600;letter-spacing:.08em;text-transform:uppercase;color:var(--text-color)}.todo-count{font-size:12px;color:var(--muted-text-color)}.todo-input-row{display:flex;flex-direction:row;gap:8px}.todo-input{flex:1;min-width:0;border-radius:999px;border:1px solid var(--border-color);padding:6px 10px;font-size:14px;background-color:var(--subtask-input-bg);outline:none}.todo-input:focus{border-color:var(--text-color)}.todo-input::placeholder{color:var(--muted-text-color);opacity:.85}.todo-add-btn{border-radius:999px;border:1px solid var(--button-bg-color);background-color:var(--button-bg-color);color:var(--button-text-color);padding:8px 14px;font-size:13px;letter-spacing:.08em;text-transform:uppercase;cursor:pointer}.todo-add-btn:disabled{opacity:.4;cursor:default}.segment-control{display:flex;justify-content:stretch}.segment-control-inner{display:flex;flex:1;max-width:280px;padding:3px;min-height:40px;border-radius:999px;background-color:var(--border-color);border:1px solid var(--border-color);gap:0}.segment-option{flex:1;padding:10px 18px;min-height:40px;box-sizing:border-box;display:inline-flex;align-items:center;justify-content:center;border:none;border-radius:999px;background-color:transparent;color:var(--muted-text-color);font-size:14px;font-weight:500;cursor:pointer;transition:background-color .15s ease,color .15s ease}.segment-option:hover{color:var(--text-color)}.segment-option-active{background-color:var(--card-bg-color);color:var(--text-color);box-shadow:0 1px 2px #0000000f}.todo-list{margin:0;padding:4px 0 0;list-style:none;display:flex;flex-direction:column;gap:6px;max-height:420px;overflow-y:auto}.todo-item{display:grid;grid-template-columns:44px 44px 1fr 160px;align-items:center;gap:8px;min-height:44px;padding:4px 6px;border-radius:10px;transition:background-color .15s ease;box-sizing:border-box}.todo-item-first-row{display:contents}.todo-mobile-row-actions,.todo-delete-btn-mobile{display:none}.todo-delete-btn-icon{display:block}.todo-chevron-slot{display:block;width:44px;min-width:44px;min-height:44px;flex-shrink:0}.todo-expand-btn{min-width:44px;min-height:44px;padding:0;border:none;border-radius:999px;background:transparent;color:var(--muted-text-color);display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0}.todo-expand-btn:hover{color:var(--text-color)}.todo-chevron{font-size:12px;line-height:1;transition:transform .15s ease}.todo-chevron-open{transform:rotate(90deg)}.todo-item-completed{background-color:transparent}.todo-subtasks{grid-column:1 / -1;width:100%;padding-left:0;padding-top:6px;padding-bottom:4px;display:flex;flex-direction:column;gap:6px}.todo-sublist{margin:0;padding:0;list-style:none;display:flex;flex-direction:column;gap:4px}.todo-subtask-item{padding-left:0}.todo-subtask-item .todo-actions{opacity:0;pointer-events:none;transition:opacity .15s ease}.todo-subtask-item:hover .todo-actions,.todo-subtask-item .todo-actions:focus-within{opacity:1;pointer-events:auto}@media(pointer:coarse),(max-width:768px){.todo-subtask-item .todo-actions{opacity:1;pointer-events:auto}}.todo-subtask-main{grid-column:span 2;display:flex;align-items:center;gap:8px;padding-left:20px;min-width:0}.todo-actions{display:flex;align-items:center;gap:8px;justify-content:flex-end;min-width:0;align-self:center}.todo-subtask-form{display:grid;grid-template-columns:44px 44px 1fr 160px;align-items:center;gap:8px;margin-top:2px}.todo-subtask-input-cell{grid-column:span 2;min-width:0;padding-left:20px}.todo-subtask-input-cell .todo-input{width:100%}.todo-add-subtask-btn{flex-shrink:0;width:88px;min-width:88px;max-width:88px}.todo-add-subtask-btn-small{padding:6px 12px;font-size:12px;min-height:32px}.todo-delete-subtask-btn{display:inline-flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:28px;padding:0;border:1px solid var(--border-color);border-radius:999px;background:transparent;color:var(--subtle-text-color);cursor:pointer;flex-shrink:0;transition:color .15s ease,border-color .15s ease}.todo-delete-subtask-btn:hover{color:var(--text-color);border-color:var(--text-color)}.todo-delete-subtask-icon{display:block}.todo-add-subtask-inline{padding:4px 8px;border:none;border-radius:999px;background:transparent;color:var(--muted-text-color);font-size:12px;cursor:pointer;transition:opacity .15s ease,color .15s ease}.todo-item .todo-add-subtask-inline{opacity:0;pointer-events:none}.todo-item:hover .todo-add-subtask-inline{opacity:1;pointer-events:auto}.todo-item-has-subtasks .todo-add-subtask-inline,.todo-item-has-subtasks:hover .todo-add-subtask-inline{opacity:0;pointer-events:none}.todo-add-subtask-inline:hover{opacity:1;color:var(--text-color)}@media(pointer:coarse),(max-width:768px){.todo-item .todo-add-subtask-inline{opacity:.75;pointer-events:auto}.todo-item:hover .todo-add-subtask-inline{opacity:.75}.todo-item-has-subtasks .todo-add-subtask-inline,.todo-item-has-subtasks:hover .todo-add-subtask-inline{opacity:0;pointer-events:none}.todo-add-subtask-inline:hover{opacity:1;color:var(--text-color)}}.todo-item-completed .todo-title{opacity:var(--completed-title-opacity);color:var(--muted-text-color)}.todo-checkbox{min-width:44px;min-height:44px;padding:0;border-radius:999px;border:none;background-color:transparent;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0}.todo-checkbox-visual{width:16px;height:16px;border-radius:999px;border-width:1.5px;border-style:solid;border-color:var(--checkbox-border-color);display:flex;align-items:center;justify-content:center;background-color:transparent;transition:background-color .15s ease,border-color .15s ease,transform .15s ease,box-shadow .15s ease}.todo-checkbox-visual-completed{background-color:var(--checkbox-fill-color);border-color:var(--checkbox-fill-color)}.todo-checkbox-check{font-size:12px;line-height:1;color:var(--checkbox-check-color);animation:checkPop .12s ease-out}@keyframes checkPop{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.todo-checkbox:hover .todo-checkbox-visual,.todo-checkbox:focus-visible .todo-checkbox-visual{transform:scale(1.04);box-shadow:0 0 0 2px #94a3b866}.todo-content{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.todo-title-row{display:flex;align-items:baseline;gap:8px;min-width:0}.todo-title-row .todo-title{min-width:0}.todo-title-row:has(.subtask-fraction) .todo-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.subtask-fraction{flex-shrink:0;font-size:12px;font-weight:500;opacity:.65;color:var(--muted-text-color)}.todo-title{font-size:14px;line-height:1.4;word-break:break-word}.todo-title-completed{color:var(--muted-text-color);text-decoration:none}.todo-meta{font-size:11px;color:var(--subtle-text-color)}.todo-delete-btn{flex-shrink:0;width:fit-content;min-width:4.5em;min-height:28px;padding:4px 8px;border-radius:999px;border:1px solid var(--border-color);background-color:transparent;color:var(--subtle-text-color);font-size:11px;line-height:1;letter-spacing:.12em;text-transform:uppercase;cursor:pointer;box-sizing:border-box;display:inline-flex;align-items:center;justify-content:center}.todo-delete-btn:hover{border-color:var(--text-color);color:var(--text-color)}.todo-subtask-form-placeholder{display:none}@media(max-width:768px){.todo-item:not(.todo-subtask-item){display:flex;flex-direction:column;align-items:stretch;gap:14px;grid-template-columns:unset}.todo-item:not(.todo-subtask-item)>.todo-actions{display:none}.todo-item-first-row{display:flex;flex-direction:row;align-items:center;gap:8px;min-width:0}.todo-item-first-row .todo-checkbox{order:1;flex-shrink:0}.todo-item-first-row .todo-expand-btn{order:2;min-width:18px;width:18px;min-height:18px;padding:0;flex-shrink:0}.todo-item-first-row .todo-chevron-slot{display:none}.todo-item-first-row .todo-content{order:3;flex:1;min-width:0}.todo-item-first-row .todo-mobile-row-actions{order:4;display:flex;align-items:center;gap:6px;flex-shrink:0}.todo-item-first-row .todo-title-row{flex-direction:column;align-items:flex-start;gap:2px}.todo-item-first-row .todo-title{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:normal}.todo-item-first-row .subtask-fraction{font-size:12px;margin-top:0;color:var(--muted-text-color);opacity:.9}.todo-item-first-row .subtask-fraction:after{content:" subtasks"}.todo-add-subtask-plus-btn{display:inline-flex;align-items:center;justify-content:center;width:28px;min-width:28px;height:28px;padding:0;border:1px solid var(--border-color);border-radius:999px;background:transparent;color:var(--muted-text-color);font-size:18px;line-height:1;cursor:pointer;flex-shrink:0;transition:color .15s ease,border-color .15s ease}.todo-add-subtask-plus-btn:hover{color:var(--text-color);border-color:var(--text-color)}.todo-delete-btn-mobile{display:inline-flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:28px;padding:0;border:1px solid var(--border-color);border-radius:999px;background:transparent;color:var(--subtle-text-color);cursor:pointer;flex-shrink:0}.todo-delete-btn-mobile:hover{color:var(--text-color);border-color:var(--text-color)}.todo-delete-btn-desktop{display:none}.todo-subtask-item{display:flex;flex-direction:row;align-items:center;gap:8px;padding-left:16px;min-height:40px;grid-template-columns:unset}.todo-subtask-item .todo-chevron-slot{display:none}.todo-subtask-item .todo-subtask-main{flex:1;min-width:0;grid-column:unset;padding-left:0}.todo-subtask-item .todo-subtask-main .todo-content{flex:1;min-width:0}.todo-subtask-item .todo-subtask-main .todo-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.todo-subtask-item .todo-actions{flex-shrink:0}.todo-subtask-form{display:none;grid-template-columns:unset}.todo-subtask-form.todo-subtask-form-mobile-open{display:flex;flex-direction:row;align-items:center;gap:8px;margin-top:6px;padding-left:16px}.todo-subtask-form.todo-subtask-form-mobile-open .todo-chevron-slot{display:none}.todo-subtask-form-placeholder{display:block;width:28px;min-width:28px;flex-shrink:0}.todo-subtask-form .todo-subtask-input-cell{flex:1;min-width:0;padding-left:0;grid-column:unset}.todo-subtask-form .todo-add-subtask-btn-small{flex-shrink:0;max-width:72px;padding:6px 12px;font-size:12px}.todo-subtasks{grid-column:unset}}.empty-state{margin-top:4px;font-size:13px;color:var(--subtle-text-color)}.year-end-overlay{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:16px;background-color:#0009;box-sizing:border-box}.year-end-modal{width:100%;max-width:380px;padding:24px;border-radius:12px;background-color:var(--card-bg-color);box-shadow:var(--card-shadow);border:1px solid var(--border-color)}.year-end-title{margin:0 0 8px;font-size:18px;font-weight:600;line-height:1.3;color:var(--text-color)}.year-end-subtitle{margin:0 0 12px;font-size:14px;line-height:1.4;color:var(--muted-text-color)}.year-end-stats{margin:0 0 20px;font-size:13px;color:var(--subtle-text-color)}.year-end-preview-hint{margin:0 0 16px;font-size:12px;color:var(--subtle-text-color);font-style:italic}.year-end-actions{display:flex;flex-direction:column;gap:10px}.year-end-btn{padding:10px 16px;border-radius:999px;font-size:14px;font-weight:500;cursor:pointer;transition:opacity .15s ease;box-sizing:border-box}.year-end-btn:hover{opacity:.9}.year-end-btn-primary{border:1px solid var(--button-bg-color);background-color:var(--button-bg-color);color:var(--button-text-color)}.year-end-btn-secondary{border:1px solid var(--border-color);background-color:transparent;color:var(--muted-text-color)}.year-end-btn-secondary:hover{border-color:var(--text-color);color:var(--text-color)}
